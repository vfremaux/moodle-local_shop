<?php
/*   __________________________________________________
    |              on 2.0.12              |
    |__________________________________________________|
*/
 define("\116\x4f\137\x4d\117\x4f\104\x4c\x45\137\x43\117\117\113\x49\105\x53", true); require "\56\56\x2f\56\x2e\57\56\56\x2f\56\56\x2f\x63\157\156\146\151\x67\56\x70\x68\x70"; require_once $CFG->dirroot . "\x2f\154\x6f\143\x61\154\x2f\163\150\157\x70\x2f\143\x6c\x61\163\x73\145\x73\x2f\x50\162\157\x64\165\x63\164\x2e\x63\154\x61\163\x73\56\160\x68\160"; require_once $CFG->dirroot . "\x2f\x6c\x6f\x63\x61\154\57\x73\x68\x6f\160\x2f\x63\154\x61\163\163\145\163\57\102\151\x6c\x6c\56\x63\x6c\141\163\163\x2e\x70\150\x70"; require_once $CFG->dirroot . "\57\154\157\143\141\x6c\x2f\x73\150\x6f\160\x2f\143\154\x61\x73\x73\145\x73\x2f\x53\x68\157\x70\x2e\x63\154\x61\x73\163\56\160\150\160"; require_once $CFG->dirroot . "\x2f\x6c\157\143\x61\154\57\x73\150\x6f\160\x2f\x70\x72\157\x2f\x63\154\x61\x73\163\x65\x73\x2f\120\x61\x72\x74\x6e\145\x72\x2e\x63\x6c\141\163\163\x2e\160\x68\160"; require_once $CFG->dirroot . "\x2f\x6c\x6f\x63\141\154\x2f\163\150\x6f\x70\57\143\x6c\141\163\x73\145\163\57\x43\141\164\141\154\157\147\x49\x74\x65\155\x2e\143\x6c\x61\163\x73\56\160\150\160"; require_once $CFG->dirroot . "\57\x6c\157\143\x61\154\57\163\150\157\160\x2f\144\141\x74\x61\x68\x61\156\x64\x6c\x69\156\x67\57\x70\162\157\144\x75\143\164\x69\157\x6e\56\x70\150\x70"; require_once $CFG->dirroot . "\x2f\x6c\x6f\x63\141\154\x2f\x73\x68\157\160\57\160\x72\x6f\x2f\160\x75\x72\x63\x68\141\x73\145\x6d\141\156\141\147\x65\x72\x2f\x6c\151\142\x2e\160\150\160"; use local_shop\Bill; use local_shop\BillItem; use local_shop\CatalogItem; use local_shop\Discount; use local_shop\Partner; use local_shop\Product; use local_shop\Shop; goto hY8gr; EJkk6: $qvD68 = required_param("\143\157\155\x70\157\x6e\145\156\164", PARAM_TEXT); goto jPVgs; DhNAL: if (in_array($xLI4_, $xq_rr)) { goto Yvv8R; } goto hwdVz; fR2Nq: if (empty($FNgEj->serviceproxykey)) { goto llhBF; } goto jt8pb; ptDR5: $PAGE->set_context($AO7zv); goto uSCpd; jPVgs: $HY3aa = required_param("\x68\x6f\x73\x74", PARAM_TEXT); goto u0Eu9; uSCpd: $xLI4_ = optional_param("\x70\x72\x6f\170\x79\153\145\x79", '', PARAM_TEXT); goto O9l6V; O9l6V: $FNgEj = get_config("\x6c\157\143\x61\154\x5f\163\x68\157\x70"); goto fR2Nq; MpHYz: Yvv8R: goto c4ZF2; hY8gr: $AO7zv = context_system::instance(); goto ptDR5; jt8pb: $xq_rr = explode("\x2c", $FNgEj->serviceproxykey); goto DhNAL; hwdVz: die("\111\116\126\101\x4c\111\x44\x20\123\x45\122\x56\x49\x43\105\x20\x50\x52\117\x58\131\x20\x53\x4f\x55\x52\x43\x45\x2e\x20\x41\143\143\145\x73\40\146\x6f\162\x62\x69\144\x64\x65\x6e\x2e"); goto MpHYz; u0Eu9: switch ($Gk5eE) { case "\143\150\145\x63\x6b": goto LRDkM; Dvhxf: die; goto tZuSd; YPC2Q: die; goto H3ChM; zYJsC: echo $DxkyF . "\x20\x4f\x4b\x20\55\61\x35\144"; goto cX9S9; KkdMF: goto G3rDx; goto JnATy; dBijy: if ($em9_L->enddate && $em9_L->enddate < time() + 15 * DAYSECS) { goto zABiZ; } goto IC3N1; ML8IZ: echo $DxkyF . "\40\106\x41\111\114\125\x52\x45\x20\x3a\x20\x30\x30\x31\x20\x2d\x20\116\117\x20\125\116\111\x54\x20\x4d\101\124\x43\x48"; goto Dvhxf; lXZY4: J_2Pm: goto VDH1i; XAph2: if ($em9_L->enddate && $em9_L->enddate < time() + 3 * DAYSECS) { goto iB9cV; } goto wMbp1; gE3Kf: die; goto Vgp3O; zbGjQ: echo $DxkyF . "\40\x4f\x4b\40\55\63\x64"; goto yVhAN; Q_2oE: echo $DxkyF . "\40\x46\x41\111\114\x55\122\105\40\x3a\40\60\60\63\40\x2d\40\x45\130\120\111\x52\x45\104"; goto gE3Kf; OiVtk: if (!($em9_L->startdate > 0 && $em9_L->startdate > time())) { goto AdN16; } goto w0zYG; xbtU7: $KTM1R = local_shop_check_hosts($em9_L, $HY3aa); goto xOFRM; s8tsk: AdN16: goto pWiCY; tZuSd: zZt46: goto OiVtk; nGzsq: if ($em9_L = Product::instance_by_reference($L0XwK)) { goto zZt46; } goto ML8IZ; Bn8Nr: goto Be1ni; goto c69FN; c69FN: tKpD7: goto s6G6K; nNFqS: goto Ab9sg; goto PVbxt; mAUxd: echo $DxkyF . "\40\x4f\113\x20\x2d\65\144"; goto BLlm9; IC3N1: if ($em9_L->enddate && $em9_L->enddate < time() + 5 * DAYSECS) { goto Vx1hw; } goto XAph2; uS8k6: goto CmlKd; goto r5qzA; pWiCY: if (!($em9_L->enddate > 0 && $em9_L->enddate < time())) { goto sCtTB; } goto Q_2oE; r5qzA: iB9cV: goto zbGjQ; zo8Ec: die; goto s8tsk; LRDkM: $DxkyF = "\x43\110\105\103\113"; goto y920i; cX9S9: G3rDx: goto jmOho; wMbp1: if ($em9_L->enddate && $em9_L->enddate < time() + DAYSECS) { goto tKpD7; } goto dCVVx; jmOho: goto J_2Pm; goto m0dO3; s6G6K: echo $DxkyF . "\40\117\x4b\x20\55\61\144"; goto da1SW; w0zYG: echo $DxkyF . "\40\x46\101\111\114\x55\x52\105\40\x3a\x20\60\x30\x32\40\x2d\40\116\x4f\124\40\131\x45\124\40\x4f\120\105\116"; goto zo8Ec; Vgp3O: sCtTB: goto xbtU7; JnATy: zABiZ: goto zYJsC; da1SW: Be1ni: goto uS8k6; y920i: $L0XwK = required_param("\x63\x75\163\x74\157\x6d\x65\162\x6b\145\x79", PARAM_TEXT); goto nGzsq; gxycI: echo $DxkyF . "\40\x4f\113\40\55\63\60\144"; goto lXZY4; dCVVx: echo $DxkyF . "\x20\117\x4b"; goto Bn8Nr; VDH1i: goto k1aF0; goto YINZt; PVbxt: Vx1hw: goto mAUxd; exmL2: if ($em9_L->enddate && $em9_L->enddate < time() + 30 * DAYSECS) { goto RRsWf; } goto dBijy; xOFRM: if (!($KTM1R == MOODLE_SHOP_HOST_FAILED)) { goto NrnHW; } goto YPC2Q; BLlm9: Ab9sg: goto KkdMF; yVhAN: CmlKd: goto nNFqS; H3ChM: NrnHW: goto exmL2; m0dO3: RRsWf: goto gxycI; YINZt: case "\147\x65\164\160\162\157\x64\x75\143\164\x73": goto aIywG; mLuCp: die; goto qRO_g; QODBQ: echo json_encode($bXzzK); goto mLuCp; aIywG: try { goto VXeFP; p8Vw2: $bXzzK->choices = $CFxXK; goto LgoiL; VXeFP: $wxMKY = optional_param("\x6c\x69\x63\145\156\x73\x65\x6b\145\x79", '', PARAM_TEXT); goto eFi78; OA87M: $CFxXK = []; goto LMkn6; pwtWm: foreach ($ipNjZ as $em9_L) { goto ZsUHS; hXddi: $qVVTi = new StdClass(); goto wKce4; Ky80_: $CFxXK[] = $qVVTi; goto cfXrw; OWR3J: $qVVTi->unit = "\145\165\162\x6f\163"; goto Ky80_; RqwoZ: HxDXG: goto a17iV; Vo2cu: if ($em9_L->status == "\x41\126\101\x49\x4c\x41\x42\114\105\x49\x4e\x54\105\x52\x4e\x41\x4c" || $em9_L->status == "\101\x56\101\111\x4c\101\x42\114\105") { goto pbsIM; } goto zuXkz; sGoRz: $qVVTi->unitprice = $em9_L->get_price(1); goto OWR3J; TmJDY: if (empty($wxMKY)) { goto JOkwi; } goto IRWvM; ZsUHS: $xxdhb = false; goto Vo2cu; cv9zh: $qVVTi->idnumber = $em9_L->idnumber; goto St9sj; MOdF4: APFAz: goto id2_O; lq22O: $qVVTi->shortname = $em9_L->shortname; goto cv9zh; nP2lq: if (!empty($wxMKY)) { goto GZXlc; } goto CGHso; wKce4: $qVVTi->code = $em9_L->code; goto EYRWR; DRdYn: goto HxDXG; goto zO_01; CGHso: $xxdhb = true; goto P7rSz; i84mv: JOkwi: goto BSgSa; St9sj: $qVVTi->description = format_text($em9_L->description); goto sGoRz; cfXrw: UJOMV: goto MOdF4; zuXkz: if (!($em9_L->status == "\101\x53\x43\x4f\115\120\x4c\x45\x4d\105\116\124")) { goto abVmi; } goto TmJDY; EYRWR: $qVVTi->name = format_string($em9_L->name); goto lq22O; zO_01: pbsIM: goto nP2lq; BSgSa: abVmi: goto DRdYn; P7rSz: GZXlc: goto RqwoZ; IRWvM: $xxdhb = true; goto i84mv; a17iV: if (!$xxdhb) { goto UJOMV; } goto hXddi; id2_O: } goto E4rHr; eq2wD: $bXzzK = new StdClass(); goto GkcBk; eFi78: $ipNjZ = CatalogItem::instances_by_idnumber($qvD68); goto OA87M; qNQLK: lyE0V: goto eq2wD; E4rHr: UDusF: goto qNQLK; GkcBk: $bXzzK->status = 200; goto p8Vw2; LMkn6: if (empty($ipNjZ)) { goto lyE0V; } goto pwtWm; LgoiL: } catch (Exception $sp00q) { goto zN_B6; zN_B6: $bXzzK = new StdClass(); goto MoHd1; MoHd1: $bXzzK->status = 100; goto MAM5L; MAM5L: $bXzzK->error = $sp00q->getMessage(); goto rUG8y; rUG8y: } goto QODBQ; qRO_g: case "\x73\x65\x74": goto W_Po6; zK31I: echo $DxkyF . "\40\x46\101\111\114\125\x52\105\x20\72\40\60\x30\x36\x20\55\40\x4e\117\x20\x43\117\115\x50\x4f\x4e\105\116\x54\40\x4d\101\124\x43\x48"; goto tbIZ7; z8TjO: $iGMhb = new CatalogItem($em9_L->catalogitemid); goto aCDH9; iHg9E: goto yNVa9; goto Pc0kS; CuqpV: goto DZy1H; goto Dv7Tw; RROQZ: Qi3H3: goto FabeL; Zt6j4: $JXTar = new Stdclass(); goto SVmzd; NzrOo: echo $DxkyF . "\40\106\x41\x49\114\x55\122\105\x20\x3a\x20\60\60\64"; goto P5duM; EQSo1: xHCiZ: goto K1_gR; PORgl: if ($em9_L->contexttype == "\162\145\147\151\163\164\145\162\x65\144\x5f\x70\x72\157\144\x75\x63\164") { goto LmY30; } goto Gaw94; P5duM: die; goto NCp53; OybHg: if ($em9_L = Product::instance_by_reference($L0XwK)) { goto HdxuP; } goto IDZwa; V5XIX: if (empty($qvD68)) { goto TJhnb; } goto z8TjO; BGlP5: if (!(trim($qvD68) != $syuG8["\x63\157\x6d\160\x6f\156\x65\156\164"])) { goto GXUqv; } goto f90be; L5e_y: $kxm2w = true; goto F8eeU; SMIbd: if ($em9_L->enddate && $em9_L->enddate < $iu1MP + 15 * DAYSECS) { goto fqh1q; } goto jvUkb; Pc0kS: fqh1q: goto nbkfm; PsFgM: if (!isset($syuG8["\143\157\155\160\157\156\145\x6e\164\x73"])) { goto az4ow; } goto Wjcki; CTCe_: TJhnb: goto MxRc7; TPfhv: qAJjY: goto hQVlY; NCp53: LT2w4: goto UiXs2; oG9aH: QinNT: goto MmJK5; okN4W: if ($em9_L->enddate && $em9_L->enddate < $iu1MP + 30 * DAYSECS) { goto qAJjY; } goto SMIbd; nQ6Uy: if (!empty($ASEeP)) { goto LT2w4; } goto NzrOo; RvU3E: if (!($KTM1R == MOODLE_SHOP_HOST_FAILED)) { goto SNypm; } goto SQ_hw; IDZwa: echo $DxkyF . "\x20\x46\x41\x49\114\x55\x52\105\40\x3a\x20\x30\60\x31"; goto Lre4b; Wjcki: $masSB = explode("\x2c", $syuG8["\143\x6f\155\x70\157\x6e\x65\156\164\x73"]); goto L5e_y; wvNrl: shop_debug_trace($JXTar); goto IWsrZ; SQ_hw: die; goto kJm11; ebSLe: echo $DxkyF . "\x20\117\x4b"; goto R5EBH; s3enU: die; goto EQSo1; SmyUA: if (!$kxm2w) { goto QinNT; } goto zK31I; pBWry: fJffq: goto okN4W; SVmzd: $JXTar->host = $HY3aa; goto jRb_l; HxHMb: $iu1MP = time(); goto vm3aG; jvUkb: if ($em9_L->enddate && $em9_L->enddate < $iu1MP + 5 * DAYSECS) { goto Qi3H3; } goto ebSLe; XPV2h: if (!($em9_L->enddate > 0 && $em9_L->enddate < $iu1MP)) { goto VozhS; } goto hO5yK; GY2b0: if (empty($S87Ga->otherhosts)) { goto YsfFM; } goto qBbD7; IWsrZ: $em9_L->set_extra_data($JXTar); goto pBWry; MxRc7: if (!($KTM1R == MOODLE_SHOP_PRIMARY_HOST)) { goto fJffq; } goto wvNrl; qBbD7: $JXTar->otherhosts = $S87Ga->otherhosts; goto fGIVK; MmJK5: az4ow: goto InLr6; dZ08C: goto aZLOS; goto qKEwF; Lre4b: die; goto bgV_T; hQVlY: echo $DxkyF . "\40\117\113\x20\55\63\60\144"; goto KdOoi; HR0co: Hb02L: goto SmyUA; Rw1SY: $S87Ga = $em9_L->get_extra_data(); goto GY2b0; q14bI: $L0XwK = required_param("\143\165\x73\164\157\x6d\145\162\153\x65\171", PARAM_TEXT); goto OybHg; TIzs7: die; goto NxWgS; F8eeU: foreach ($masSB as $BfI2i) { goto MKQI8; bPGej: $kxm2w = false; goto cPQCf; O2ymn: Gzyg3: goto x3xsQ; k3ajW: zD1oG: goto O2ymn; MKQI8: if (!(trim($qvD68) == trim($BfI2i))) { goto zD1oG; } goto bPGej; cPQCf: goto Hb02L; goto k3ajW; x3xsQ: } goto HR0co; f_SS8: JTc62: goto BGlP5; Qx7s8: $KTM1R = local_shop_check_hosts($em9_L, $HY3aa); goto RvU3E; KgfLz: $JXTar->component = optional_param("\143\157\155\x70\x6f\156\x65\156\164", '', PARAM_TEXT); goto IuKcK; orcxg: die; goto qgJ_t; QFYZm: aZLOS: goto CTCe_; kJm11: SNypm: goto Rw1SY; bgV_T: HdxuP: goto HxHMb; jfcwY: if (isset($syuG8["\143\157\x6d\160\x6f\156\145\x6e\164"])) { goto JTc62; } goto PsFgM; qKEwF: Vswec: goto KLqBX; f90be: echo $DxkyF . "\40\106\x41\111\x4c\x55\122\105\x20\72\x20\60\x30\x35"; goto orcxg; YhV3x: yNVa9: goto V4LuZ; Gaw94: echo $DxkyF . "\x20\106\x41\111\x4c\x55\x52\x45\x20\72\40\60\x30\70\40\x2d\x20\116\x4f\x20\x43\117\116\x54\x45\130\x54\x20\124\x59\x50\105\x20\115\101\x54\x43\x48"; goto Wt0f9; qgJ_t: GXUqv: goto oFLYI; qvrPI: goto k1aF0; goto P3LNs; fGIVK: YsfFM: goto V5XIX; vrjdo: echo $DxkyF . "\40\x46\x41\x49\x4c\x55\122\105\x20\x3a\x20\x30\x30\62\40\55\x20\x4e\x4f\124\40\131\105\x54\x20\117\x50\x45\x4e\105\104"; goto JI0rQ; W_Po6: $DxkyF = "\123\105\124"; goto Zt6j4; tbIZ7: die; goto oG9aH; r1CjK: echo $DxkyF . "\40\106\101\111\x4c\x55\122\105\x20\x3a\x20\x30\60\67\40\x2d\40\116\117\40\x43\117\x4d\x50\117\116\x45\116\x54\40\115\x41\124\x43\x48"; goto s3enU; RQ_rh: $JXTar->courses = optional_param("\x63\x6f\x75\x72\163\x65\163", '', PARAM_INT); goto mWkTA; IuKcK: $JXTar->timeupdated = time(); goto q14bI; nbkfm: echo $DxkyF . "\x20\117\x4b\x20\x2d\x31\65\144"; goto YhV3x; FabeL: echo $DxkyF . "\x20\x4f\x4b\40\55\x35\x64"; goto a7My3; UiXs2: $syuG8 = (array) json_decode($ASEeP); goto jfcwY; jRb_l: $JXTar->registeredusers = optional_param("\165\163\145\x72\x73", '', PARAM_INT); goto RQ_rh; aCDH9: if ($em9_L->contexttype == "\x75\163\x65\x72\x65\156\162\x6f\154") { goto Vswec; } goto PORgl; V4LuZ: goto Y83EZ; goto TPfhv; oFLYI: Oztdl: goto QFYZm; nHQl_: if (preg_match("\x2f\x5e" . $qvD68 . "\x2f", $iGMhb->idnumber)) { goto xHCiZ; } goto r1CjK; hO5yK: echo $DxkyF . "\40\x46\101\x49\114\125\x52\105\40\72\40\x30\x30\63\x20\55\40\105\130\120\x49\x52\x45\x44"; goto TIzs7; mWkTA: $JXTar->coursecategories = optional_param("\x63\157\165\x72\x73\x65\143\x61\x74\x73", '', PARAM_INT); goto KgfLz; vm3aG: if (!($em9_L->startdate > 0 && $em9_L->startdate > $iu1MP)) { goto plgdx; } goto vrjdo; a7My3: mwP1n: goto iHg9E; R5EBH: goto mwP1n; goto RROQZ; Dv7Tw: LmY30: goto nHQl_; NxWgS: VozhS: goto Qx7s8; InLr6: goto Oztdl; goto f_SS8; JI0rQ: die; goto aO2SU; K1_gR: DZy1H: goto dZ08C; aO2SU: plgdx: goto XPV2h; KLqBX: $ASEeP = $em9_L->productiondata; goto nQ6Uy; KdOoi: Y83EZ: goto qvrPI; Wt0f9: die; goto CuqpV; P3LNs: case "\x67\145\164": goto EYO8o; B2UdH: $bXzzK->status = 100; goto JqfCH; Qhddg: $CXtVw = produce_postpay($qQ0hv); goto XiKF9; Q5TYh: $bXzzK = new StdClass(); goto B2UdH; HY3qJ: $qQ0hv->customerid = $ds4vR->customer->id; goto fpHX8; iW67C: if (!empty($qvD68)) { goto Xv6YW; } goto PUCSL; TPhzA: echo json_encode($bXzzK); goto DPhj0; QDOiA: $qQ0hv->paymode = "\144\145\154\x65\147\x61\164\x65\144"; goto Yh_Qr; IISuf: $N0X6I = "\x50\x75\x72\143\x68\x61\x73\145\x20\155\141\x6e\141\x67\145\162\x20\163\x65\x72\x76\151\143\x65\x73\x20\x3a\x20\x42\x61\x64\40\x70\x61\162\x74\x6e\145\162\40\151\144\x65\x6e\x74\x69\146\151\x63\141\x74\x69\157\156\56"; goto rywWS; R9zDL: goto ZAVRn; goto m5GW1; xcnm4: echo json_encode($bXzzK); goto ZHT2q; pOlID: $qQ0hv->amount = 0; goto hkDuI; o81EF: $qQ0hv->timetodo = 0; goto gIBMP; kkhCI: $ta3qT->itemcode = $iGMhb->shortname; goto BJR3Z; fnq32: $dA9EC = array_shift($Nkbkt); goto R9zDL; D5LyI: $bXzzK = new StdClass(); goto ExWbl; oCOOG: $XeGhC = $qQ0hv->save(); goto Qhddg; ciF3e: $Nkbkt = Shop::get_instances(["\x63\x61\164\x61\154\157\x67\x69\x64" => $cGqHT]); goto lmDkU; nY19R: $bXzzK = new StdClass(); goto W3q3I; wii33: $qQ0hv->ignoretax = 0; goto BwYEi; s2uaS: $JXTar = new Stdclass(); goto aXzy7; MPtUN: goto Jhd6Z; goto LgfzJ; H1oGB: try { goto ct3iH; MXhUi: if (!empty($iGMhb)) { goto tywA8; } goto E_xUl; DrNTA: tywA8: goto s9JUn; hwaxu: $bXzzK = new StdClass(); goto L7qvu; L7qvu: $bXzzK->status = 100; goto WcE9h; WcE9h: $bXzzK->error = $N0X6I; goto DSBai; DSBai: echo json_encode($bXzzK); goto mRW3r; E_xUl: $N0X6I = "\x50\x75\162\143\x68\141\163\x65\40\155\141\156\x61\x67\145\162\40\163\x65\x72\166\x69\143\x65\163\x20\72\x20\116\157\40\163\165\151\164\x61\x62\x6c\x65\40\143\x61\x74\141\x6c\x6f\147\x69\x74\145\x6d\x20\146\157\165\x6e\144"; goto AvHOt; mRW3r: exit(0); goto DrNTA; ct3iH: $iGMhb = CatalogItem::instance_by_code($RQ5ou); goto MXhUi; AvHOt: shop_debug_trace($N0X6I); goto hwaxu; s9JUn: } catch (Exception $wqClQ) { goto SK9gy; KbWmz: $bXzzK->status = 100; goto uNj4d; SK9gy: $N0X6I = "\120\x75\162\143\x68\x61\163\x65\40\155\x61\156\141\x67\145\x72\x20\x73\145\x72\x76\x69\x63\145\x73\40\x3a\40\x4e\x6f\40\163\165\x69\164\141\x62\154\145\x20\x63\x61\164\141\x6c\157\147\151\x74\x65\155\40\146\x6f\165\156\144\40\x2d\x20\105\x78\143\x65\160\x74\151\x6f\156"; goto PWxfD; uV5rT: exit(0); goto kmJne; u_Xsx: $bXzzK = new StdClass(); goto KbWmz; uNj4d: $bXzzK->error = $N0X6I; goto BXLud; BXLud: echo json_encode($bXzzK); goto uV5rT; PWxfD: shop_debug_trace($N0X6I); goto u_Xsx; kmJne: } goto bF6eP; de9qX: $L0XwK = required_param("\x63\165\163\x74\157\155\x65\x72\x6b\145\x79", PARAM_TEXT); goto kOUHg; lM3tQ: $JXTar->component = optional_param("\x63\157\x6d\x70\157\x6e\145\156\164", '', PARAM_TEXT); goto InTVD; S6Xsd: $JXTar->coursecategories = optional_param("\143\x6f\x75\x72\x73\145\143\141\164\163", '', PARAM_INT); goto lM3tQ; ZFk1K: exit(0); goto SQ2J3; aB2C9: $qQ0hv->title = empty($kvjUJ) ? get_string("\x72\x65\x6d\x6f\164\145\x73\x65\162\x76\x69\x63\145\x62\x69\154\x6c\x69\156\x67", "\154\x6f\143\141\154\137\x73\150\x6f\x70") : $kvjUJ; goto s1MD9; K11Uu: shop_debug_trace($N0X6I); goto nY19R; INik3: $ta3qT->productiondata->reference = $JXTar->licensekey; goto OcOWq; dKOJX: $bXzzK = new Stdclass(); goto Rk0I4; D0v_3: $qQ0hv->add_item_data($ta3qT, 1); goto Stge3; aXzy7: $JXTar->host = $HY3aa; goto R8MAU; vIrjM: $qQ0hv->assignedto = 0; goto o81EF; uV1at: $bXzzK->reference = $em9_L->reference; goto xcnm4; EDDMQ: Xv6YW: goto stsV3; BwYEi: $qQ0hv->paymentfee = 0; goto wz1sp; wEz02: P1TgE: goto oCOOG; CCle9: $dA9EC = new Shop($ue9Tk); goto QDtDk; MrhV0: $em9_L->extradata = json_encode($JXTar); goto e6yeM; rG2FL: $ta3qT->productiondata = new StdClass(); goto ARspo; ARspo: $ta3qT->productiondata->id = $dA9EC->id; goto FGoQz; Yh_Qr: $qQ0hv->paiedamount = 0; goto gPaR6; lT5Z6: if (empty($wK0nf)) { goto mYssO; } goto oSNLy; fiK_H: $ta3qT = new StdClass(); goto rQJGm; bF6eP: if (!empty($ue9Tk)) { goto WAOiH; } goto T73pb; Rk0I4: $bXzzK->status = 200; goto uV1at; InTVD: $JXTar->licensekey = optional_param("\154\x69\x63\x65\x6e\x73\145\x6b\x65\x79", '', PARAM_TEXT); goto gedj1; hkDuI: $qQ0hv->currency = $dA9EC->get_currency(); goto SJ9v1; Gk29d: $N0X6I = "\x50\x75\162\143\x68\x61\x73\x65\40\x6d\x61\156\141\147\145\162\40\x73\x65\162\x76\151\143\x65\163\40\72\x20\x52\x65\163\165\x6c\164\151\156\x67\x20\160\x72\x6f\x64\x75\x63\164\40\x6e\157\x74\x20\146\x6f\165\156\144\56\40\120\162\157\142\141\142\154\x79\x20\x70\x72\x65\x76\x69\x6f\165\163\x20\x65\x72\162\157\x72\x2e"; goto GC5x8; vAa_H: $dA9EC = array_shift($Nkbkt); goto A_Pyx; T73pb: $cGqHT = $iGMhb->thecatalog->id; goto ciF3e; EYO8o: $ue9Tk = optional_param("\163\150\x6f\160\151\x64", 0, PARAM_INT); goto s2uaS; o1MJc: $N0X6I = "\120\165\x72\143\x68\x61\x73\145\x20\x6d\141\x6e\141\147\145\x72\40\x73\x65\x72\x76\151\143\145\x73\x20\72\40\123\150\x6f\x70\x20\x69\156\x64\145\x74\x65\162\155\151\x6e\x61\164\151\157\156\x2e\x20\x54\141\x6b\151\156\x67\40\x66\x69\162\163\x74\40\141\166\141\151\x6c\141\x62\x6c\x65\56"; goto jUdNr; JqfCH: $bXzzK->error = $N0X6I; goto hjoSZ; QieoF: $RMSQc = array_shift($VtUsc); goto AVLgE; hx1Pi: $qQ0hv->id = $qQ0hv->save(true); goto fiK_H; f7wsE: $qQ0hv->invoiceinfo = ''; goto hx1Pi; aUDUW: $kvjUJ = format_string($dA9EC->name); goto aB2C9; QpZto: $qQ0hv->emissiondate = time(); goto lFzUx; uor3Q: $qQ0hv->partnertag = $ds4vR->partnerid; goto JTqTn; AVLgE: $ipNjZ = Product::get_instances(["\151\156\151\164\151\x61\x6c\142\x69\x6c\x6c\151\x74\145\155\151\144" => $RMSQc->id]); goto rEw2D; WE0tD: if (!is_null($ds4vR->customer)) { goto JCeu5; } goto cnTp_; wz1sp: $qQ0hv->partnerid = $ds4vR->id; goto uor3Q; fpHX8: $qQ0hv->idnumber = ''; goto aUDUW; ZHT2q: exit(1); goto KTdyy; bAfN4: exit(0); goto eVe60; JTqTn: Partner::register_in_bill($qQ0hv); goto f7wsE; lmDkU: if (count($Nkbkt) == 1) { goto MzUIU; } goto o1MJc; fx0YC: $qQ0hv = new Bill(null, true, $dA9EC, $iGMhb->get_catalog(), $paYaA); goto KJh7o; bLBNJ: $qQ0hv->taxes = 0; goto pOlID; OcOWq: $ta3qT->customerdata = ''; goto D0v_3; rywWS: shop_debug_trace($N0X6I); goto pgh0H; ExWbl: $bXzzK->status = 100; goto C_0dN; XiKF9: $VtUsc = BIllItem::get_instances(["\x62\151\x6c\154\151\144" => $qQ0hv->id, "\151\164\145\x6d\x63\x6f\144\145" => $iGMhb->code]); goto QieoF; e6yeM: $em9_L->save(); goto dKOJX; QDtDk: Jhd6Z: goto NdKdd; kOUHg: $RQ5ou = required_param("\x6f\160\164\x69\x6f\x6e", PARAM_TEXT); goto iW67C; LgfzJ: WAOiH: goto CCle9; FGoQz: $ta3qT->productiondata->blockid = 0; goto INik3; vr9Of: echo json_encode($bXzzK); goto bAfN4; lFzUx: $qQ0hv->lastactiondate = time(); goto KH3Yh; hjoSZ: echo json_encode($bXzzK); goto rSheB; wN3r0: mYssO: goto wEz02; BJR3Z: $ta3qT->type = "\102\111\114\x4c\x49\116\x47"; goto rG2FL; stsV3: if ($ds4vR = Partner::get_by_secretkey($L0XwK)) { goto lgskU; } goto IISuf; KH3Yh: $qQ0hv->worktype = "\120\122\117\x44"; goto vIrjM; KJh7o: $qQ0hv->transactionid = "\163\145\162\x76\151\143\x65" . uniqid(); goto HY3qJ; eVe60: lgskU: goto WE0tD; SJ9v1: $qQ0hv->convertedamount = 0; goto QDOiA; CIQ5A: VQoCT: goto wN3r0; d8aZy: $wK0nf = Discount::get_applicable_discounts($dA9EC->id); goto lT5Z6; rQJGm: $ta3qT->quantity = 1; goto kkhCI; Stge3: if (!local_shop_supports_feature("\163\x68\157\160\x2f\x64\151\163\143\x6f\165\x6e\x74\x73")) { goto P1TgE; } goto PSbX7; pgh0H: $bXzzK = new StdClass(); goto w7GsD; GC5x8: shop_debug_trace($N0X6I); goto D5LyI; PUCSL: $N0X6I = "\x50\x75\162\143\150\x61\163\x65\40\155\141\156\x61\147\145\162\40\163\x65\162\x76\x69\x63\x65\x73\40\x3a\40\116\157\40\x63\x6f\155\160\157\x6e\x65\156\164\40\x67\x69\166\x65\156\56"; goto NAPTH; RzAqr: $bXzzK->error = $N0X6I; goto fQvIN; R8MAU: $JXTar->registeredusers = optional_param("\165\163\x65\162\x73", '', PARAM_INT); goto iW0ZG; PSbX7: include_once $CFG->dirroot . "\57\154\157\143\141\154\x2f\163\x68\x6f\160\x2f\160\162\x6f\x2f\x63\154\141\x73\163\145\163\x2f\x44\x69\x73\x63\x6f\165\x6e\164\x2e\x63\154\141\x73\x73\56\160\150\160"; goto d8aZy; A_Pyx: ZAVRn: goto MPtUN; gPaR6: $qQ0hv->expectedpaiement = 0; goto wii33; L8gOc: N35hm: goto MrhV0; NAPTH: shop_debug_trace($N0X6I); goto Q5TYh; rEw2D: $em9_L = array_shift($ipNjZ); goto ayOJR; W3q3I: $bXzzK->status = 100; goto RzAqr; iW0ZG: $JXTar->courses = optional_param("\x63\x6f\x75\162\163\145\x73", '', PARAM_INT); goto S6Xsd; oSNLy: foreach ($wK0nf as $nSY00) { goto IJOaF; xRPeX: Mq2Bd: goto kKqE5; IJOaF: if (!$nSY00->check_applicability($qQ0hv)) { goto bvnkP; } goto jAFu0; jAFu0: $nSY00->apply_to_bill($qQ0hv); goto lB8Eh; lB8Eh: bvnkP: goto xRPeX; kKqE5: } goto CIQ5A; gedj1: $JXTar->timeupdated = time(); goto de9qX; w7GsD: $bXzzK->status = 100; goto fFDs9; SQ2J3: JCeu5: goto H1oGB; rSheB: exit(0); goto EDDMQ; C_0dN: $bXzzK->error = $N0X6I; goto TPhzA; gIBMP: $qQ0hv->untaxedamount = 0; goto bLBNJ; ayOJR: if (!empty($em9_L)) { goto N35hm; } goto Gk29d; cnTp_: $N0X6I = "\x50\x75\x72\x63\x68\x61\163\145\40\x6d\x61\x6e\x61\x67\145\162\x20\x73\145\162\166\x69\x63\145\163\x20\72\40{$ds4vR->name}\40\120\141\x72\x74\x6e\x65\x72\40\150\141\x73\x20\156\157\40\141\x73\163\x6f\x63\x69\141\x74\x65\x64\x20\143\165\163\164\157\155\145\162\56"; goto K11Uu; m5GW1: MzUIU: goto vAa_H; fQvIN: echo json_encode($bXzzK); goto ZFk1K; fFDs9: $bXzzK->error = $N0X6I; goto vr9Of; DPhj0: exit(0); goto L8gOc; s1MD9: $qQ0hv->status = SHOP_BILL_PLACED; goto QpZto; jUdNr: shop_debug_trace($N0X6I); goto fnq32; NdKdd: $paYaA = null; goto fx0YC; KTdyy: case "\x74\145\154\x6c": goto KNyCt; FVmLu: $Kl6Lw->datecreated = time(); goto Y42iL; KNyCt: $lWyz5 = new StdClass(); goto phpeG; ihlhO: $Kl6Lw->productid = 0; goto Td2SW; Td2SW: $Kl6Lw->billitemid = 0; goto ub4sF; cs7dk: $lWyz5->hostname = required_param("\x68\x6f\x73\x74", PARAM_TEXT); goto RZNN3; itIEH: echo "\124\105\114\114\40\117\x4b"; goto LQz4_; lO_R5: $Kl6Lw->eventdata = json_encode($lWyz5); goto FVmLu; Y42iL: $DB->insert_record("\x6c\x6f\x63\141\154\x5f\x73\x68\157\x70\x5f\x70\x72\x6f\144\165\x63\x74\x65\x76\x65\156\164", $Kl6Lw); goto itIEH; phpeG: $lWyz5->componentname = required_param("\x63\x6f\155\160\157\156\145\156\164", PARAM_TEXT); goto cs7dk; RZNN3: $Kl6Lw = new StdClass(); goto ihlhO; LQz4_: goto k1aF0; goto NPzKm; ub4sF: $Kl6Lw->eventtype = "\x74\x65\x6c\x6c"; goto lO_R5; NPzKm: default: echo "\111\116\x56\101\114\111\104\x20\123\x45\x52\126\111\x43\105"; } goto SJ_sp; c4ZF2: llhBF: goto D0Aci; D0Aci: $Gk5eE = required_param("\x73\x65\162\166\151\x63\145", PARAM_TEXT); goto EJkk6; SJ_sp: SOFDe: goto meEKA; meEKA: k1aF0:
