<?php
/*   __________________________________________________
    |              on 2.0.12              |
    |__________________________________________________|
*/
 defined("\115\x4f\117\104\x4c\x45\x5f\x49\116\x54\105\122\116\x41\114") || die; require_once $CFG->dirroot . "\x2f\154\x69\142\x2f\145\170\164\x65\162\x6e\x61\154\x6c\x69\142\x2e\160\x68\160"; require_once $CFG->dirroot . "\x2f\154\x6f\143\141\154\57\x73\x68\157\x70\x2f\143\x6c\x61\x73\x73\x65\x73\57\123\x68\157\x70\56\143\x6c\141\x73\x73\56\x70\150\x70"; require_once $CFG->dirroot . "\57\x6c\157\x63\x61\x6c\x2f\x73\x68\x6f\x70\x2f\143\154\x61\163\x73\145\x73\x2f\103\141\x74\x61\154\157\x67\111\164\x65\155\56\x63\154\x61\x73\x73\56\x70\150\x70"; require_once $CFG->dirroot . "\57\x6c\157\143\x61\x6c\57\x73\x68\157\x70\x2f\x63\x6c\x61\163\x73\x65\163\x2f\x43\141\x74\141\154\x6f\147\56\143\x6c\141\163\163\56\x70\x68\x70"; require_once $CFG->dirroot . "\x2f\x6c\157\143\141\x6c\57\x73\150\x6f\x70\x2f\145\x78\164\x65\x72\x6e\141\x6c\x6c\x69\142\56\x70\x68\160"; use local_shop\Shop; use local_shop\Catalog; use local_shop\Catalogitem; use local_shop\Category; class local_shop_external_extended extends local_shop_external { protected function validate_shop_parameters($kVakV, &$fBGLg) { goto ZGzMX; Ml15j: $fBGLg["\x63\141\x74\145\147\157\x72\x79\151\144"] = "\52"; goto hDZPV; ULy0k: PJ5W9: goto pltzp; tvFHg: if (!($fBGLg["\x69\164\145\155\151\144\x73\157\x75\x72\x63\x65"] == "\x63\x6f\x64\x65")) { goto jjV66; } goto r3NzB; PuTz1: $aMaXF = array("\151\x64" => $fBGLg["\x73\x68\157\x70\151\144"]); goto Qbkp1; gzPnZ: BHMmp: goto z6mZ5; v73Kj: $fBGLg["\151\x74\145\155\151\144"] = $D5pUO->id; goto p3rNm; n75FL: goto MQ1l4; goto ULy0k; CNzKd: NtEr5: goto VdIPW; ppatV: parent::validate_parameters($kVakV, $fBGLg); goto gpC_n; yibiY: $aMaXF = array("\x69\144" => $fBGLg["\143\x61\164\x61\154\x6f\x67\x69\144"]); goto Yi9U7; VdIPW: if (!array_key_exists("\143\x61\x74\x65\147\x6f\x72\x79\151\144", $fBGLg)) { goto hYuxL; } goto QiR3p; u_3gg: throw new invalid_parameter_exception("\116\x6f\40\163\x75\x63\150\x20\163\150\157\x70"); goto o77a5; JV_Dd: bhWcr: goto qANyT; gpC_n: if (!array_key_exists("\x73\150\x6f\160\151\144", $fBGLg)) { goto ZexBr; } goto PuTz1; HPkKw: throw new invalid_parameter_exception("\x49\156\166\141\x6c\151\x64\40\x70\x72\x6f\x64\165\x63\164\40\x74\171\x70\145"); goto b6zpM; nPIvf: throw new invalid_parameter_exception("\x4e\x6f\164\40\x76\x61\154\x69\x64\40\x69\144\x20\x73\x6f\165\x72\x63\x65"); goto JV_Dd; pltzp: $aMaXF = array("\x69\x64" => $fBGLg["\151\x74\145\155\151\144"]); goto Hp_l4; QiR3p: if (!($fBGLg["\x63\141\x74\x65\147\157\x72\171\x69\144"] == 0)) { goto qVBO3; } goto Ml15j; FqcI2: dAVDz: goto fF75o; b6zpM: jgCVi: goto VdnWm; z6mZ5: if (in_array($fBGLg["\x69\x74\145\x6d\151\x64\x73\157\165\x72\143\x65"], array("\x69\x64", "\x63\157\144\x65"))) { goto bhWcr; } goto nPIvf; mJe1J: v_Ad8: goto XcWLc; g3Crj: if (!array_key_exists("\151\164\x65\155\x69\x64", $fBGLg)) { goto NtEr5; } goto ZRAiD; Bp00o: hzJmV: goto L9AaO; VdnWm: $fBGLg["\x74\x79\x70\145"] = $U2bHh[$fBGLg["\164\x79\160\x65"]]; goto rmGHa; o77a5: LoQU_: goto L8eoB; i8e1x: if (!array_key_exists("\x63\141\x74\x61\x6c\x6f\x67\143\141\164\x65\147\x6f\162\171\x69\144", $fBGLg)) { goto ORq0O; } goto y3bIs; XE9W2: $U2bHh = array("\160\x6c\x61\x69\156" => PRODUCT_STANDALONE, "\x73\145\164" => PRODUCT_SET, "\142\x75\156\144\154\145" => PRODUCT_BUNDLE, "\x2a" => "\x2a"); goto ppatV; qANyT: if ($fBGLg["\151\164\145\x6d\x69\x64\x73\x6f\165\162\x63\x65"] == "\151\144") { goto PJ5W9; } goto tvFHg; rmGHa: n7Ruo: goto n3t4X; L9AaO: Hf_ld: goto i8e1x; Qbkp1: if ($DB->record_exists("\154\157\x63\141\154\x5f\x73\x68\x6f\160", $aMaXF)) { goto LoQU_; } goto u_3gg; G16kI: if (!array_key_exists("\x74\x79\160\145", $fBGLg)) { goto n7Ruo; } goto Iwzu2; cK2YB: if (!array_key_exists("\x63\141\x74\141\154\157\147\x69\144", $fBGLg)) { goto Hf_ld; } goto yibiY; j0qx5: if (!($D5pUO = $DB->get_record("\154\x6f\x63\x61\154\x5f\163\x68\157\160\x5f\143\x61\x74\141\x6c\x6f\x67\151\164\145\155", $aMaXF))) { goto dAVDz; } goto v73Kj; iGzQq: throw new invalid_parameter_exception("\x4e\157\x20\163\x75\x63\x68\x20\x63\141\x74\141\x6c\x6f\147\x20\143\x61\164\x65\x67\157\162\171"); goto mJe1J; hDZPV: qVBO3: goto ckDjp; Yi9U7: if ($DB->record_exists("\x6c\157\x63\x61\154\x5f\x73\x68\x6f\x70\137\143\x61\x74\x61\154\157\147", $aMaXF)) { goto hzJmV; } goto KBFCA; FY22c: jjV66: goto n75FL; fF75o: throw new invalid_parameter_exception("\x4e\157\x20\x73\x75\143\x68\x20\x63\x61\164\141\x6c\157\147\40\x69\164\x65\155"); goto SlLFF; y3bIs: $aMaXF = array("\x69\x64" => $fBGLg["\143\141\164\x61\154\x6f\147\x63\141\x74\145\147\157\x72\x79\151\x64"]); goto apAbE; Hp_l4: MQ1l4: goto j0qx5; ZGzMX: global $DB; goto XE9W2; Iwzu2: if (in_array($fBGLg["\x74\171\160\145"], array("\52", "\x70\154\141\x69\156", "\x73\x65\x74", "\142\165\156\x64\154\x65"))) { goto jgCVi; } goto HPkKw; p3rNm: goto lk4Jk; goto FqcI2; XcWLc: ORq0O: goto g3Crj; apAbE: if ($DB->record_exists("\154\x6f\x63\141\154\137\x73\150\157\160\x5f\x63\x61\164\x61\x6c\157\147\143\x61\x74\145\x67\157\x72\171", $aMaXF)) { goto v_Ad8; } goto iGzQq; ckDjp: hYuxL: goto G16kI; ZRAiD: if (array_key_exists("\151\164\x65\x6d\x69\144\163\157\x75\162\143\x65", $fBGLg)) { goto BHMmp; } goto DpAjb; KBFCA: throw new invalid_parameter_exception("\116\x6f\40\x73\x75\x63\x68\x20\x63\x61\x74\x61\x6c\x6f\147"); goto Bp00o; DpAjb: throw new invalid_parameter_exception("\115\151\x73\163\151\156\147\40\x69\x74\x65\155\x20\x69\x64\x20\x73\157\x75\x72\x63\x65"); goto gzPnZ; r3NzB: $aMaXF = array("\x63\157\144\145" => $fBGLg["\x69\164\145\155\151\x64"]); goto FY22c; L8eoB: ZexBr: goto cK2YB; SlLFF: lk4Jk: goto CNzKd; n3t4X: } public static function get_shop($ue9Tk) { goto O2RDH; XaRFR: self::validate_shop_parameters(self::get_shop_parameters(), $fBGLg); goto T2E22; T2E22: $iaM56 = new Shop($fBGLg["\x73\x68\x6f\160\151\144"]); goto C8dCH; O2RDH: global $DB; goto vTFhI; C8dCH: return $iaM56->export_to_ws(); goto mlSJX; vTFhI: $fBGLg = array("\163\x68\x6f\160\151\144" => $ue9Tk); goto XaRFR; mlSJX: } public static function get_catalog($cGqHT) { goto DLNoi; DLNoi: global $DB; goto b9MHi; jwcp1: $YPf3n = new Catalog($fBGLg["\x63\141\x74\x61\x6c\157\147\151\x64"]); goto eFra_; JESs7: self::validate_shop_parameters(self::get_catalog_parameters(), $fBGLg); goto jwcp1; eFra_: return $YPf3n->export_to_ws(); goto MjdeL; b9MHi: $fBGLg = array("\143\x61\164\141\x6c\157\x67\151\144" => $cGqHT); goto JESs7; MjdeL: } public static function get_catalogcategory($X4n_r) { goto xC2lq; LZxUK: $fBGLg = array("\143\x61\164\145\x67\157\162\171\151\x64" => $X4n_r); goto NTAM9; xC2lq: global $DB; goto LZxUK; BVOov: return $s4veO->export_to_ws(); goto EqZ4t; zFXUv: $s4veO = new Category($fBGLg["\143\x61\164\145\147\x6f\162\x79\x69\144"]); goto BVOov; NTAM9: self::validate_shop_parameters(self::get_catalogcategory_parameters(), $fBGLg); goto zFXUv; EqZ4t: } public static function get_catalogitem($vkBO3, $jEcZU, $Te4Wz) { goto UvgWV; DiGkS: $fBGLg = array("\x69\164\x65\x6d\x69\x64\163\157\x75\x72\143\145" => $vkBO3, "\151\164\x65\155\151\x64" => $jEcZU, "\x71" => $Te4Wz); goto ctoWf; E4A3c: $iGMhb = new CatalogItem($fBGLg["\x69\x74\x65\x6d\x69\144"]); goto JmrMM; ctoWf: self::validate_shop_parameters(self::get_catalogitem_parameters(), $fBGLg); goto E4A3c; JmrMM: $kg_LW = 0; goto eXboo; eXboo: return $iGMhb->export_to_ws($Te4Wz, $kg_LW); goto yspXC; UvgWV: global $DB; goto DiGkS; yspXC: } public static function get_catalogitems($cGqHT, $X4n_r, $D5iMj, $YAYD0, $Te4Wz) { goto bd21z; tRhCS: $kg_LW = 0; goto ZxNKy; bd21z: global $DB; goto dIOri; FUmS1: if (empty($ITZWc)) { goto mVsj7; } goto nwCKi; Q_Y1g: self::validate_shop_parameters(self::get_catalogitems_parameters(), $fBGLg); goto tRhCS; dIOri: $fBGLg = array("\x63\x61\x74\141\154\157\147\x69\144" => $cGqHT, "\x63\141\164\145\147\x6f\162\x79\151\144" => $X4n_r, "\x73\164\x61\x74\x75\x73" => $D5iMj, "\164\x79\160\145" => $YAYD0, "\161" => $Te4Wz); goto Q_Y1g; ZxNKy: $bfrmL = array(); goto ECxoX; rotiO: hQwU7: goto UyG2j; Wg0oA: $ITZWc = CatalogItem::get_instances($aMaXF); goto FUmS1; nwCKi: foreach ($ITZWc as $uqERL) { $bfrmL[] = $uqERL->export_to_ws($Te4Wz, $kg_LW); avZWd: } goto rotiO; ECxoX: $aMaXF = array("\143\x61\x74\x61\x6c\x6f\147\x69\x64" => $fBGLg["\x63\x61\x74\x61\x6c\157\x67\151\x64"], "\x63\x61\164\145\147\157\x72\x79\151\x64" => $fBGLg["\x63\141\x74\x65\147\157\162\171\151\x64"], "\163\164\x61\x74\x75\163" => $D5iMj, "\x69\163\x73\145\x74" => $fBGLg["\164\x79\x70\x65"]); goto Wg0oA; jP1Og: return $bfrmL; goto nJP3R; UyG2j: mVsj7: goto jP1Og; nJP3R: } }
