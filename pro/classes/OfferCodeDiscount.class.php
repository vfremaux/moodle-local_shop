<?php
/*   __________________________________________________
    |              on 2.0.12              |
    |__________________________________________________|
*/
 namespace local_shop; defined("\x4d\117\117\104\x4c\105\137\x49\x4e\124\x45\x52\x4e\101\x4c") || die; use StdClass; use context_system; class OfferCodeDiscount extends Discount { public function check_applicability(&$qQ0hv = null) { goto CEox1; F12KC: nowZ7: goto Tl3db; YlYau: $xHODM = $SESSION->shoppingcart->discountcodes[$this->id]; goto j1oEu; Tl3db: LIzO7: goto Ib5EI; Ib5EI: return false; goto l5hGF; gk7U3: $this->productiondata = $syuG8; goto SnYSF; CEox1: global $SESSION; goto MNUYE; xPyUL: $syuG8 = new StdClass(); goto HtDuO; j1oEu: if (!($xHODM == trim($this->ruledata))) { goto nowZ7; } goto xPyUL; SnYSF: return true; goto F12KC; HtDuO: $syuG8->code = $xHODM; goto ycyj_; ycyj_: $syuG8->ratio = $this->ratio; goto gk7U3; MNUYE: if (empty($SESSION->shoppingcart->discountcodes[$this->id])) { goto LIzO7; } goto YlYau; l5hGF: } public function preview_applicability() { return $this->check_applicability(null); } public function is_interactive_eligible() { goto yuEsu; sluAg: return false; goto YwM8K; eocZC: if (!($this->applyon == "\x69\x74\x65\x6d\x6c\x69\163\164")) { goto FuNI3; } goto gkObx; Kn2Bt: foreach ($ITZWc as $Pj6uN) { goto YH3BV; YH3BV: if (!in_array(trim($Pj6uN), array_keys($SESSION->shoppingcart->order))) { goto PRuKE; } goto EUiAP; Eh73B: PRuKE: goto OSlum; EUiAP: return true; goto Eh73B; OSlum: z6jka: goto LcdhY; LcdhY: } goto l88o0; gkObx: if (empty($this->applyondata)) { goto GKjeV; } goto N_Yoe; l88o0: wEI9i: goto sluAg; YwM8K: GKjeV: goto T6ju_; yuEsu: global $SESSION; goto eocZC; GgLnO: return true; goto is__0; T6ju_: FuNI3: goto GgLnO; N_Yoe: $ITZWc = explode("\x2c", $this->applyondata); goto Kn2Bt; is__0: } public function is_interactive_verified() { goto tGIC0; UaxTC: if ($this->is_interactive_eligible()) { goto pHJsE; } goto gXkc1; B1q8N: $xHODM = $SESSION->shoppingcart->discountcodes[$this->id]; goto LGSKv; LGSKv: if (!($xHODM == trim($this->ruledata))) { goto W2l0o; } goto pe1cY; aOZsx: f9dd0: goto OEOOs; OEOOs: if (!empty($SESSION->shoppingcart->discountcodes)) { goto j3pg3; } goto WrY39; JleFV: if (empty($SESSION->shoppingcart->discountcodes[$this->id])) { goto MNYgz; } goto B1q8N; sCwGG: return false; goto Z26JT; V0CJw: j3pg3: goto JleFV; gXkc1: return false; goto M7te5; rUKhm: W2l0o: goto BjpaL; pe1cY: return true; goto rUKhm; WrY39: $SESSION->shoppingcart->discountcodes = []; goto V0CJw; BjpaL: MNYgz: goto sCwGG; tGIC0: global $SESSION; goto UaxTC; M7te5: pHJsE: goto vAjaQ; HGSiB: $SESSION->shoppingcart = new StdClass(); goto aOZsx; vAjaQ: if (isset($SESSION->shoppingcart)) { goto f9dd0; } goto HGSiB; Z26JT: } public function interactive_form() { goto wZGGX; Wq4UT: if ($this->is_interactive_verified()) { goto yme5I; } goto Wu4dO; SbhsI: return $EzGWc; goto D53XT; SCtxx: $EzGWc->placeholder = get_string("\145\x6e\164\145\162\x63\x6f\x64\145", "\x6c\x6f\143\x61\154\x5f\x73\x68\x6f\160"); goto SbhsI; PfxuA: f2NDG: goto tiivK; xRarj: $EzGWc->istext = true; goto eHtey; opiEF: $EzGWc->id = $this->id; goto EzmgN; wZGGX: $EzGWc = new StdClass(); goto zYwmI; eHtey: $EzGWc->hasform = true; goto c0IOM; EzmgN: $EzGWc->itemelm = "\x64\151\x73\x63\x6f\x75\x6e\164\x63\x6f\144\x65" . $this->id; goto nF_KU; j40KS: $EzGWc->datatype = PARAM_ALPHANUM; goto xRarj; NE1Q7: $X98cR = file_rewrite_pluginfile_urls($this->argument, "\x70\x6c\165\147\151\156\x66\151\154\x65\56\160\x68\160", $AO7zv->id, "\x6c\157\143\141\x6c\x5f\163\150\157\x70", "\144\151\x73\x63\157\165\156\164\141\162\147\x75\x6d\145\156\164", $this->id); goto eluC5; eluC5: $EzGWc->label = $X98cR; goto j40KS; gY6Xz: Pct8l: goto SCtxx; MOaKq: $EzGWc->verified = "\x76\x65\x72\x69\146\151\145\144"; goto BGjh6; WPjcR: goto FfHip; goto PfxuA; tiivK: $EzGWc->eligible = "\x65\x6c\x69\x67\151\142\154\x65"; goto agLPt; Wu4dO: $EzGWc->verified = "\x66\x61\151\154\x65\x64"; goto yWx3c; zYwmI: $AO7zv = context_system::instance(); goto opiEF; eIfNk: yme5I: goto MOaKq; c0IOM: if ($this->is_interactive_eligible()) { goto f2NDG; } goto mkSC0; d77XN: goto Pct8l; goto eIfNk; mkSC0: $EzGWc->eligible = ''; goto WPjcR; yWx3c: $EzGWc->verifiedtext = get_string("\143\x6f\x64\145\146\x61\x69\154\x65\x64", "\x6c\x6f\x63\141\154\x5f\163\150\x6f\160"); goto d77XN; agLPt: FfHip: goto Wq4UT; BGjh6: $EzGWc->verifiedtext = get_string("\143\x6f\144\x65\x76\145\x72\151\x66\x69\145\144", "\154\157\143\141\154\137\163\x68\157\x70"); goto gY6Xz; nF_KU: $EzGWc->type = "\164\145\x78\x74"; goto NE1Q7; D53XT: } public function interactive_form_return($lWyz5, $Y8cR9 = null) { goto bi_Dz; SBcF3: DYzdb: goto J9m3D; nFq20: unset($SESSION->shoppingcart->discountcodes[$this->id]); goto g5ePu; rJ0O5: AX2BD: goto hPIma; g5ePu: mytve: goto ncQsp; KGUn4: if (array_key_exists($this->id, $SESSION->shoppingcart->discountcodes)) { goto MNJv9; } goto Y27U8; iBKzP: Z5lJZ: goto yTL6o; mEe_b: $EzGWc = $this->interactive_form(); goto dN_EX; bi_Dz: global $SESSION; goto M9V_2; KdLAZ: if (!array_key_exists($this->id, $SESSION->shoppingcart->discountcodes)) { goto mytve; } goto nFq20; ncQsp: goto zF8vV; goto Mkbi0; qZqlj: $lWyz5 = (object) $lWyz5; goto iBKzP; M9V_2: if (!is_array($lWyz5)) { goto Z5lJZ; } goto qZqlj; yTL6o: if (!empty($SESSION->shoppingcart->discountcodes)) { goto D_Wnr; } goto ww6pI; l859G: return $SESSION->shoppingcart->discountcodes[$this->id]; goto rJ0O5; Jw540: zF8vV: goto SBcF3; Mkbi0: oYOaw: goto KGUn4; ww6pI: $SESSION->shoppingcart->discountcodes = []; goto Qo2DH; i0n4H: if ($V5w7x) { goto oYOaw; } goto KdLAZ; RXBtm: $V5w7x = clean_param($lWyz5->{$Fnuzm}, $EzGWc->datatype); goto i0n4H; iN2NI: MNJv9: goto Jw540; Y27U8: $SESSION->shoppingcart->discountcodes[$this->id] = $V5w7x; goto iN2NI; NzyYZ: if (!isset($lWyz5->{$Fnuzm})) { goto DYzdb; } goto RXBtm; J9m3D: if (!array_key_exists($this->id, $SESSION->shoppingcart->discountcodes)) { goto AX2BD; } goto l859G; Qo2DH: D_Wnr: goto mEe_b; dN_EX: $Fnuzm = $EzGWc->itemelm; goto NzyYZ; hPIma: } public function export_for_template() { goto JFV3X; wQ13U: return $pelcB; goto sdc05; MXT8c: $pelcB->label = format_text($this->argument, $this->argumentformat); goto wQ13U; ZEal6: $pelcB->istext = true; goto MXT8c; dHUAy: $pelcB->hasform = method_exists($this, "\x69\x6e\164\x65\x72\x61\x63\x74\151\166\x65\x5f\x66\157\162\x6d"); goto ZEal6; JFV3X: $pelcB = parent::export_for_template(); goto dHUAy; sdc05: } }
