<?php
/*   __________________________________________________
    |              on 2.0.12              |
    |__________________________________________________|
*/
 defined("\115\x4f\x4f\x44\114\105\137\x49\116\124\105\122\x4e\x41\114") || die; require_once $CFG->dirroot . "\57\x6c\x6f\x63\x61\154\x2f\x73\150\157\x70\x2f\142\x69\x6c\154\163\57\162\x65\156\x64\145\x72\145\162\56\x70\150\x70"; require_once $CFG->dirroot . "\57\x6c\x6f\143\x61\x6c\57\163\150\157\x70\x2f\160\x72\x6f\x2f\x63\x6c\141\x73\163\145\x73\x2f\120\141\x72\164\156\x65\162\x2e\143\154\x61\163\x73\56\x70\150\x70"; use local_shop\Partner; class shop_bills_renderer_extended extends shop_bills_renderer { public function export_attachements_template($qQ0hv) { goto Y8Mg_; Kcunk: $vCLFM = new StdClass(); goto y04qt; Y8Mg_: global $OUTPUT; goto y2Whd; mW6DS: m6B5R: goto OGZ97; PgCj2: if (empty($vqhCB)) { goto yQBON; } goto QLuC4; kTEn3: $vCLFM->nobillattachementnotification = $OUTPUT->notification(get_string("\x6e\157\x62\151\x6c\x6c\141\x74\164\x61\143\x68\x65\155\x65\x6e\x74\x73", "\154\x6f\x63\141\154\x5f\x73\x68\157\160")); goto mW6DS; rbErL: $KZ01q = new moodle_url("\x2f\x6c\x6f\143\x61\154\x2f\x73\150\157\160\x2f\x70\x72\157\x2f\x62\151\154\x6c\163\57\141\x74\x74\141\x63\150\x74\157\56\160\150\160", $aMaXF); goto WmqtY; nosI1: return $vCLFM; goto JoO2D; AVcXp: xDT07: goto GvItu; EmQew: yQBON: goto X2ORK; OGZ97: $aMaXF = array("\x74\x79\160\145" => "\x62\x69\154\x6c", "\142\151\x6c\x6c\151\x64" => $qQ0hv->id, "\151\144" => $this->theshop->id); goto rbErL; X2ORK: $vCLFM->hasattachments = false; goto kTEn3; gwMpQ: $vqhCB = $gC0Qm->get_area_files($Mgjo1, "\154\157\x63\x61\x6c\137\x73\150\x6f\x70", "\142\x69\x6c\x6c\146\x69\154\145\x73", $qQ0hv->id, "\151\164\145\x6d\x69\x64\54\x20\x66\x69\x6c\145\x70\x61\x74\150\x2c\40\x66\x69\154\145\x6e\141\x6d\145", false); goto PgCj2; y04qt: $Mgjo1 = context_system::instance()->id; goto gwMpQ; GvItu: goto m6B5R; goto EmQew; WmqtY: $vCLFM->attachurl = $KZ01q; goto nosI1; y_Yav: foreach ($vqhCB as $T3378) { goto xTD70; xTD70: $uVH5L = $this->attachment($T3378, $qQ0hv); goto tGTZ_; fEmZ0: HpEUm: goto uh5fN; tGTZ_: $vCLFM->attachedfiles[] = $uVH5L; goto fEmZ0; uh5fN: } goto AVcXp; QLuC4: $vCLFM->hasattachments = true; goto y_Yav; y2Whd: $gC0Qm = get_file_storage(); goto Kcunk; JoO2D: } public function attachment($gM2Ua, $qQ0hv) { goto n6Dzd; e0Hrj: return $vCLFM; goto cxqI9; jThb1: $vCLFM->fileurl = moodle_url::make_pluginfile_url($AO7zv->id, "\154\157\143\x61\x6c\x5f\x73\150\157\x70", "\x62\x69\154\x6c\x61\164\x74\x61\x63\x68\155\145\x6e\x74\163", $gM2Ua->get_itemid(), "\x2f", $NcHob); goto dtDbg; Ig60v: $vCLFM->fileicon = $OUTPUT->image_url(file_file_icon($gM2Ua, 64)); goto d03H6; dtDbg: $vCLFM->filesize = $gM2Ua->get_filesize(); goto KDuyW; n6Dzd: global $OUTPUT; goto LExtO; Y9zW_: $NcHob = $XIz9t["\x62\141\163\145\x6e\141\155\145"]; goto Ig60v; lxPPl: $vCLFM->linkurl = new moodle_url("\x2f\154\157\143\x61\x6c\x2f\163\x68\157\x70\x2f\x62\151\154\x6c\163\x2f\166\x69\145\x77\x2e\160\150\x70", $aMaXF); goto e0Hrj; KS_s0: $AO7zv = context_system::instance(); goto CtzaZ; KDuyW: $aMaXF = ["\166\x69\145\x77" => "\x76\x69\x65\167\x42\151\154\154", "\x69\144" => $gM2Ua->get_id(), "\167\x68\141\x74" => "\165\x6e\141\164\x74\x61\143\150", "\x62\151\154\x6c\x69\x64" => $qQ0hv->id]; goto lxPPl; LExtO: $vCLFM = new StdClass(); goto KS_s0; CtzaZ: $XIz9t = pathinfo($gM2Ua->get_filename()); goto Y9zW_; d03H6: $vCLFM->filename = $gM2Ua->get_filename(); goto jThb1; cxqI9: } public function export_ownership_template($qQ0hv) { goto kz62Z; v2QLv: $vCLFM->assignurl = $QCWrW; goto pYIkM; pmd7T: $uYAi8 = new moodle_url("\57\154\x6f\143\x61\154\x2f\163\x68\x6f\160\57\x62\x69\154\154\163\x2f\x76\151\x65\x77\56\160\150\160", $aMaXF); goto F0JGK; VcDD5: goto HGev2; goto ciKp3; enFcW: $vCLFM->sesskey = sesskey(); goto q0cS5; YN55Y: $vCLFM->partnerselect = html_writer::select($gfIgV, "\160\141\162\x74\156\x65\x72\151\x64"); goto VcDD5; kz62Z: global $OUTPUT, $DB; goto YfbkL; sWIgt: HGev2: goto enFcW; et3Ch: if (empty($GjN8A)) { goto T4kDQ; } goto fiVnb; pYIkM: $aMaXF = ["\166\x69\x65\167" => "\166\151\145\x77\x42\151\154\x6c", "\142\x69\154\154\x69\x64" => $qQ0hv->id, "\x69\x64" => $this->theshop->id, "\x77\150\141\x74" => "\165\156\x61\x73\x73\x69\x67\x6e\160\141\x72\164\x6e\145\x72", "\x73\x65\163\163\153\145\x79" => $vCLFM->sesskey]; goto pmd7T; ciKp3: T4kDQ: goto Fh3MW; F0JGK: $vCLFM->unassignurl = $uYAi8; goto jVT_v; fiVnb: $vCLFM->haspartners = true; goto mma3n; jNV_7: $vCLFM->shopid = $this->theshop->id; goto OdYcs; JW_AT: $GjN8A = Partner::get_instances(["\163\x68\157\x70\151\x64" => $qQ0hv->theshop->id]); goto et3Ch; q0cS5: $vCLFM->billid = $qQ0hv->id; goto jNV_7; OdYcs: $QCWrW = new moodle_url("\x2f\x6c\x6f\143\141\x6c\57\x73\x68\157\160\x2f\142\x69\x6c\x6c\163\x2f\166\x69\x65\167\56\160\150\160"); goto v2QLv; Fh3MW: $vCLFM->haspartners = false; goto sWIgt; Tz40d: $Mgjo1 = context_system::instance()->id; goto JW_AT; mma3n: foreach ($GjN8A as $Ok2vK) { goto OWbJu; hlx6q: hggaO: goto wfxUL; SloaK: $vCLFM->current = "\x5b{$Ok2vK->partnerkey}\x5d\40{$Ok2vK->name}"; goto hlx6q; wfxUL: $gfIgV[$Ok2vK->id] = "\133{$Ok2vK->partnerkey}\135\x20{$Ok2vK->name}"; goto aI4Cv; OWbJu: if (!($qQ0hv->partnerid == $Ok2vK->id)) { goto hggaO; } goto SloaK; aI4Cv: VBXpS: goto JCY3Y; JCY3Y: } goto YpGu0; jVT_v: return $vCLFM; goto s20OH; YfbkL: $vCLFM = new StdClass(); goto Tz40d; YpGu0: c1DRA: goto YN55Y; s20OH: } }
